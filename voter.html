<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Votezy Voter Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: #f7fafd;
            line-height: 1.6;
            color: #333;
        }

        /* Header - Same as Admin Panel */
        .voter-header {
            background: linear-gradient(90deg, #3498db 80%, #5dade2 100%);
            color: #fff;
            padding: 1rem 2rem;
            box-shadow: 0 2px 12px rgba(52,152,219,0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .logo-section h1 {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0;
        }

        .voter-badge {
            background: rgba(255,255,255,0.2);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .user-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logout-btn {
            background: rgba(255,255,255,0.2);
            color: #fff;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Navigation */
        .nav-tabs {
            background: #fff;
            border-bottom: 1px solid #e3eaf7;
            padding: 0 2rem;
            box-shadow: 0 2px 8px rgba(52,152,219,0.05);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            gap: 0;
        }

        .nav-tab {
            padding: 1rem 2rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-tab:hover {
            background: #f8fafc;
            color: #3498db;
        }

        .nav-tab.active {
            color: #3498db;
            border-bottom-color: #3498db;
            background: #f8fafc;
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .section-header {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 2rem;
            color: #222;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .section-subtitle {
            color: #666;
            font-size: 1.1rem;
        }

        /* Cards */
        .card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(52,152,219,0.08);
            margin-bottom: 2rem;
            border: 1px solid #e3eaf7;
            overflow: hidden;
        }

        .card-header {
            background: linear-gradient(135deg, #eaf6ff 60%, #f7fafd 100%);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e3eaf7;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #3498db;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .card-content {
            padding: 2rem;
        }

        /* Election Cards */
        .elections-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .election-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(52,152,219,0.08);
            border: 1px solid #e3eaf7;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .election-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(52,152,219,0.15);
        }

        .election-card-header {
            background: linear-gradient(135deg, #3498db 0%, #5dade2 100%);
            color: #fff;
            padding: 1.5rem 2rem;
            text-align: center;
        }

        .election-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .election-type {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .election-card-body {
            padding: 2rem;
        }

        .election-info {
            margin-bottom: 1.5rem;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
            font-size: 1rem;
        }

        .info-label {
            color: #666;
            font-weight: 500;
        }

        .info-value {
            color: #333;
            font-weight: 600;
        }

        .election-status {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .status-live {
            background: #d4edda;
            color: #155724;
            animation: pulse 2s infinite;
        }

        .status-upcoming {
            background: #fff3cd;
            color: #856404;
        }

        .status-completed {
            background: #f8d7da;
            color: #721c24;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .vote-btn {
            width: 100%;
            background: linear-gradient(90deg, #3498db 80%, #5dade2 100%);
            color: #fff;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(52,152,219,0.2);
        }

        .vote-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52,152,219,0.3);
        }

        .vote-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Voting Modal */
        .voting-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }

        .voting-modal.active {
            display: flex;
        }

        .modal-content {
            background: #fff;
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 16px 64px rgba(0,0,0,0.3);
        }

        .modal-header {
            background: linear-gradient(135deg, #3498db 0%, #5dade2 100%);
            color: #fff;
            padding: 2rem;
            text-align: center;
            position: relative;
        }

        .modal-title {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .modal-subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: #fff;
            font-size: 2rem;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .close-modal:hover {
            opacity: 1;
        }

        .modal-body {
            padding: 2rem;
        }

        .candidates-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .candidate-option {
            border: 2px solid #e3eaf7;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .candidate-option:hover {
            border-color: #3498db;
            background: #f8fafc;
        }

        .candidate-option.selected {
            border-color: #3498db;
            background: #eaf6ff;
            box-shadow: 0 4px 16px rgba(52,152,219,0.1);
        }

        .candidate-radio {
            width: 20px;
            height: 20px;
            accent-color: #3498db;
        }

        .candidate-info {
            flex: 1;
        }

        .candidate-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: #222;
            margin-bottom: 0.3rem;
        }

        .candidate-party {
            color: #666;
            font-size: 1rem;
        }

        .candidate-symbol {
            font-size: 2rem;
            margin-left: auto;
        }

        .vote-submit-btn {
            width: 100%;
            background: linear-gradient(90deg, #27ae60 0%, #2ecc71 100%);
            color: #fff;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(39,174,96,0.2);
            margin-top: 1rem;
        }

        .vote-submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39,174,96,0.3);
        }

        .vote-submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Success Message */
        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border: 1px solid #c3e6cb;
            display: none;
            text-align: center;
            font-weight: 600;
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: #fff;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(52,152,219,0.08);
            border: 1px solid #e3eaf7;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #3498db;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #666;
            font-weight: 500;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .voter-header {
                padding: 1rem;
            }

            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-tabs {
                padding: 0 1rem;
            }

            .nav-container {
                flex-wrap: wrap;
            }

            .nav-tab {
                padding: 0.8rem 1rem;
                flex: 1;
                min-width: 120px;
            }

            .main-content {
                padding: 1rem;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .elections-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .election-card-body {
                padding: 1rem;
            }

            .modal-content {
                margin: 1rem;
                max-width: calc(100% - 2rem);
            }

            .modal-header, .modal-body {
                padding: 1rem;
            }
        }

        /* Flag Icon */
        .flag-icon {
            display: inline-block;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="voter-header">
        <div class="header-content">
            <div class="logo-section">
                <span class="flag-icon">
                    <svg width="32" height="20" viewBox="0 0 32 20" xmlns="http://www.w3.org/2000/svg">
                        <rect width="32" height="6.67" y="0" fill="#FF9933"/>
                        <rect width="32" height="6.67" y="6.67" fill="#FFFFFF"/>
                        <rect width="32" height="6.66" y="13.34" fill="#138808"/>
                        <circle cx="16" cy="10" r="2.2" fill="none" stroke="#000088" stroke-width="0.7"/>
                        <g stroke="#000088" stroke-width="0.3">
                            <g>
                                <line x1="16" y1="7.8" x2="16" y2="12.2"/>
                                <line x1="13.8" y1="10" x2="18.2" y2="10"/>
                            </g>
                            <g transform="rotate(45 16 10)">
                                <line x1="16" y1="7.8" x2="16" y2="12.2"/>
                                <line x1="13.8" y1="10" x2="18.2" y2="10"/>
                            </g>
                        </g>
                    </svg>
                </span>
                <h1>Votezy</h1>
                <span class="voter-badge">Voter Dashboard</span>
            </div>
            <div class="user-section">
                <span>Welcome, Voter</span>
                <button class="logout-btn">Logout</button>
            </div>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="nav-tabs">
        <div class="nav-container">
            <div class="nav-tab active" data-section="elections">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5" />
                    <path d="M12 12l8 -4.5" />
                    <path d="M12 12l0 9" />
                    <path d="M12 12l-8 -4.5" />
                </svg>
                Live Elections
            </div>
            <div class="nav-tab" data-section="history">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12,6 12,12 16,14"/>
                </svg>
                Vote History
            </div>
            <div class="nav-tab" data-section="profile">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
                My Profile
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Live Elections Section -->
        <section id="elections" class="content-section active">
            <div class="section-header">
                <h2 class="section-title">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#3498db" stroke-width="2">
                        <path d="M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5" />
                        <path d="M12 12l8 -4.5" />
                        <path d="M12 12l0 9" />
                        <path d="M12 12l-8 -4.5" />
                    </svg>
                    Live Elections
                </h2>
                <p class="section-subtitle">Cast your vote in active elections</p>
            </div>

            <div class="success-message" id="vote-success-message">
                Your vote has been successfully recorded! Thank you for participating in democracy.
            </div>

            <div class="elections-grid">
                <!-- Live Election 1 -->
                <div class="election-card">
                    <div class="election-card-header">
                        <h3 class="election-title">General Elections 2024</h3>
                        <p class="election-type">National Level</p>
                    </div>
                    <div class="election-card-body">
                        <div class="election-status status-live">🔴 LIVE</div>
                        <div class="election-info">
                            <div class="info-row">
                                <span class="info-label">Constituency:</span>
                                <span class="info-value">Mumbai North</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">End Date:</span>
                                <span class="info-value">Apr 20, 2024</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">End Time:</span>
                                <span class="info-value">6:00 PM</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Candidates:</span>
                                <span class="info-value">5 Registered</span>
                            </div>
                        </div>
                        <button class="vote-btn" onclick="openVotingModal('general2024')">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M9 11l3 3L22 4"/>
                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                            </svg>
                            Cast Your Vote
                        </button>
                    </div>
                </div>

                <!-- Live Election 2 -->
                <div class="election-card">
                    <div class="election-card-header">
                        <h3 class="election-title">Local Council Elections</h3>
                        <p class="election-type">Municipal Level</p>
                    </div>
                    <div class="election-card-body">
                        <div class="election-status status-live">🔴 LIVE</div>
                        <div class="election-info">
                            <div class="info-row">
                                <span class="info-label">Constituency:</span>
                                <span class="info-value">Ward 42</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">End Date:</span>
                                <span class="info-value">Apr 18, 2024</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">End Time:</span>
                                <span class="info-value">5:00 PM</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Candidates:</span>
                                <span class="info-value">3 Registered</span>
                            </div>
                        </div>
                        <button class="vote-btn" onclick="openVotingModal('local2024')">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <path d="M9 11l3 3L22 4"/>
                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                            </svg>
                            Cast Your Vote
                        </button>
                    </div>
                </div>

                <!-- Upcoming Election -->
                <div class="election-card">
                    <div class="election-card-header">
                        <h3 class="election-title">Student Council Elections</h3>
                        <p class="election-type">University Level</p>
                    </div>
                    <div class="election-card-body">
                        <div class="election-status status-upcoming">📅 UPCOMING</div>
                        <div class="election-info">
                            <div class="info-row">
                                <span class="info-label">Constituency:</span>
                                <span class="info-value">Engineering Dept</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Start Date:</span>
                                <span class="info-value">May 1, 2024</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">End Date:</span>
                                <span class="info-value">May 3, 2024</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Candidates:</span>
                                <span class="info-value">4 Registered</span>
                            </div>
                        </div>
                        <button class="vote-btn" disabled>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12,6 12,12 16,14"/>
                            </svg>
                            Voting Starts May 1st
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Vote History Section -->
        <section id="history" class="content-section">
            <div class="section-header">
                <h2 class="section-title">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#3498db" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12,6 12,12 16,14"/>
                    </svg>
                    Vote History
                </h2>
                <p class="section-subtitle">View your past voting records</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                        </svg>
                        Your Voting Record
                    </h3>
                </div>
                <div class="card-content">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">7</div>
                            <div class="stat-label">Total Votes Cast</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">2</div>
                            <div class="stat-label">Active Elections</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">100%</div>
                            <div class="stat-label">Participation Rate</div>
                        </div>
                    </div>

                    <div class="elections-grid">
                        <div class="election-card">
                            <div class="election-card-header" style="background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);">
                                <h3 class="election-title">Previous General Elections</h3>
                                <p class="election-type">Completed - March 2024</p>
                            </div>
                            <div class="election-card-body">
                                <div class="election-status status-completed">✅ VOTED</div>
                                <div class="election-info">
                                    <div class="info-row">
                                        <span class="info-label">Vote Date:</span>
                                        <span class="info-value">Mar 15, 2024</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">Constituency:</span>
                                        <span class="info-value">Mumbai North</span>
                                    </div>
                                    <div class="info-row">
                                        <span class="info-label">Status:</span>
                                        <span class="info-value">Verified ✓</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile" class="content-section">
            <div class="section-header">
                <h2 class="section-title">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#3498db" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    My Profile
                </h2>
                <p class="section-subtitle">View and manage your voter profile</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                        Profile Information
                    </h3>
                </div>
                <div class="card-content">
                    <div class="info-row" style="margin-bottom: 1rem;">
                        <span class="info-label">Name:</span>
                        <span class="info-value">John Doe</span>
                    </div>
                    <div class="info-row" style="margin-bottom: 1rem;">
                        <span class="info-label">Email:</span>
                        <span class="info-value">john.doe@example.com</span>
                    </div>
                    <div class="info-row" style="margin-bottom: 1rem;">
                        <span class="info-label">Phone:</span>
                        <span class="info-value">+1 234 567 890</span>
                    </div>
                    <div class="info-row" style="margin-bottom: 1rem;">
                        <span class="info-label">Constituency:</span>
                        <span class="info-value">Mumbai North</span>
                    </div>
                    <button class="vote-btn" style="width: auto; margin-top: 1rem;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 0.5rem;">
                            <path d="M9 11l3 3L22 4"/>
                            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                        </svg>
                        Edit Profile
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Voting Modal -->
    <div class="voting-modal" id="voting-modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title" id="modal-election-title"></span>
                <span class="modal-subtitle" id="modal-election-type"></span>
                <button class="close-modal" onclick="closeVotingModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="vote-form">
                    <div class="candidates-list" id="candidates-list">
                        <!-- Candidates will be injected here -->
                    </div>
                    <button type="submit" class="vote-submit-btn" id="vote-submit-btn" disabled>Submit Vote</button>
                </form>
            </div>
        </div>
    </div>

    <script>
// Tab navigation
document.querySelectorAll('.nav-tab').forEach(tab => {
    tab.addEventListener('click', function() {
        document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
        document.getElementById(this.dataset.section).classList.add('active');
    });
});

// Dummy election/candidate data
const elections = {
    general2024: {
        title: "General Elections 2024",
        type: "National Level",
        candidates: [
            { name: "Amit Sharma", party: "People's Party", symbol: "🦁" },
            { name: "Priya Singh", party: "Unity Front", symbol: "🌳" },
            { name: "Rahul Mehra", party: "Progressive Alliance", symbol: "🦅" },
            { name: "Sunita Rao", party: "Justice League", symbol: "⚖️" },
            { name: "Vikas Patel", party: "Development Party", symbol: "🚀" }
        ]
    },
    local2024: {
        title: "Local Council Elections",
        type: "Municipal Level",
        candidates: [
            { name: "Neha Desai", party: "Citizen's Voice", symbol: "🏡" },
            { name: "Rohan Gupta", party: "Green Ward", symbol: "🌱" },
            { name: "Suresh Kumar", party: "People's Choice", symbol: "🕊️" }
        ]
    }
};

let selectedElection = null;
let selectedCandidateIndex = null;

// Open voting modal
window.openVotingModal = function(electionKey) {
    selectedElection = elections[electionKey];
    selectedCandidateIndex = null;
    document.getElementById('modal-election-title').textContent = selectedElection.title;
    document.getElementById('modal-election-type').textContent = selectedElection.type;
    const candidatesList = document.getElementById('candidates-list');
    candidatesList.innerHTML = '';
    selectedElection.candidates.forEach((c, idx) => {
        const div = document.createElement('div');
        div.className = 'candidate-option';
        div.innerHTML = `
            <input type="radio" name="candidate" class="candidate-radio" id="candidate${idx}" value="${idx}">
            <div class="candidate-info">
                <div class="candidate-name">${c.name}</div>
                <div class="candidate-party">${c.party}</div>
            </div>
            <span class="candidate-symbol">${c.symbol}</span>
        `;
        div.onclick = () => {
            document.querySelectorAll('.candidate-option').forEach(opt => opt.classList.remove('selected'));
            div.classList.add('selected');
            div.querySelector('input[type=radio]').checked = true;
            selectedCandidateIndex = idx;
            document.getElementById('vote-submit-btn').disabled = false;
        };
        candidatesList.appendChild(div);
    });
    document.getElementById('vote-submit-btn').disabled = true;
    document.getElementById('voting-modal').classList.add('active');
};

// Close voting modal
window.closeVotingModal = function() {
    document.getElementById('voting-modal').classList.remove('active');
};

// Vote submission
document.getElementById('vote-form').addEventListener('submit', function(e) {
    e.preventDefault();
    if (selectedCandidateIndex === null) return;
    closeVotingModal();
    // Show success message
    const msg = document.getElementById('vote-success-message');
    msg.style.display = 'block';
    setTimeout(() => { msg.style.display = 'none'; }, 4000);
    // Optionally, update vote history or disable vote button (not persistent)
});

// Logout button
document.querySelector('.logout-btn').addEventListener('click', function() {
    alert('You have been logged out.');
    // window.location.href = 'login.html'; // Uncomment and set your login page if needed
});

// Optional: Close modal on background click
document.getElementById('voting-modal').addEventListener('click', function(e) {
    if (e.target === this) closeVotingModal();
});
</script>
</body>
</html>